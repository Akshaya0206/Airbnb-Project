<% layout('/layouts/boilerplate') -%>
<body> 
  <br>
  <div class="d-flex justify-content-between align-items-center mt-3 mb-2">
  <h3 style="margin: 0;">All Listings</h3>
  <div class="form-check form-switch">
    <input class="form-check-input" type="checkbox" id="gstToggle">
    <label class="form-check-label" for="gstToggle">Show GST</label>
  </div>
</div>

  <div class="row mt-3">
    <% for (let list of allListings) { %>
      <div class="col-lg-4 col-md-4 col-sm-6 col-12 mb-4" >
        <a href="/listings/<%= list._id %>" class="listing-link">
          <div class="listing-card card h-100">
            <img src="<%= list.image.url %>" class="card-img-top" alt="listings-image" style="height: 20rem;">
            <div class="card-body">
              <p class="card-text">
                <p style="height:25px;font-weight: 600;margin: 2%;"><%= list.title %></p>
                <span style="margin-left: 2%;">&#8377; <%= list.price.toLocaleString("en-IN") %>/night</span>
                <i class="tax-info d-none">&nbsp;&nbsp; +18% GST</i>
              </p>
            </div>
          </div>
        </a>
      </div>
    <% } %>
  </div>
</body>
<script>
  const gstToggle = document.getElementById("gstToggle");
  const gstInfos = document.querySelectorAll(".tax-info");

  gstToggle.addEventListener("change", () => {
    gstInfos.forEach(el => {
      el.classList.toggle("d-none", !gstToggle.checked);
    });
  });
</script>



